<?xml version="1.0" encoding="utf-8" standalone="no"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 20010904//EN" "http://www.w3.org/TR/2001/REC-SVG-20010904/DTD/svg10.dtd"><svg xmlns="http://www.w3.org/2000/svg" width="990" height="556" xmlns:xlink="http://www.w3.org/1999/xlink"><source><![CDATA[  participant Master as M
  participant Slave as S
  Note left of M: "HANDSHAKING" state
  S->M: "hello" cmd
  Note left of M: "MIGRATING" state
  M->S: "migrate" cmd
  S->M: "migrated" cmd
  Note left of M: "SYNCING" state
  M->S: "sync_message" cmds...
  M->S: "new_message" cmds...
  Note right of S: when Slave's circle core info is updated
  S->M: "circle_core_updated" cmd
]]></source><desc></desc><defs><marker viewBox="0 0 5 5" markerWidth="5" markerHeight="5" orient="auto" refX="5" refY="2.5" id="markerArrowBlock"><path d="M 0 0 L 5 2.5 L 0 5 z"></path></marker><marker viewBox="0 0 9.6 16" markerWidth="4" markerHeight="16" orient="auto" refX="9.6" refY="8" id="markerArrowOpen"><path d="M 9.6,8 1.92,16 0,13.7 5.76,8 0,2.286 1.92,0 9.6,8 z"></path></marker></defs><g class="title"></g><g class="actor"><rect x="193.6328125" y="20" width="77.609375" height="38" stroke="#000000" fill="#ffffff" style="stroke-width: 2px;"></rect><text x="203.6328125" y="44.515625" style="font-size: 16px; font-family: 'Andale Mono', monospace;"><tspan x="203.6328125">Master</tspan></text></g><g class="actor"><rect x="193.6328125" y="498" width="77.609375" height="38" stroke="#000000" fill="#ffffff" style="stroke-width: 2px;"></rect><text x="203.6328125" y="522.515625" style="font-size: 16px; font-family: 'Andale Mono', monospace;"><tspan x="203.6328125">Master</tspan></text></g><line x1="232.4375" x2="232.4375" y1="58" y2="498" stroke="#000000" fill="none" style="stroke-width: 2px;"></line><g class="actor"><rect x="458.4765625" y="20" width="68.015625" height="38" stroke="#000000" fill="#ffffff" style="stroke-width: 2px;"></rect><text x="468.4765625" y="44.515625" style="font-size: 16px; font-family: 'Andale Mono', monospace;"><tspan x="468.4765625">Slave</tspan></text></g><g class="actor"><rect x="458.4765625" y="498" width="68.015625" height="38" stroke="#000000" fill="#ffffff" style="stroke-width: 2px;"></rect><text x="468.4765625" y="522.515625" style="font-size: 16px; font-family: 'Andale Mono', monospace;"><tspan x="468.4765625">Slave</tspan></text></g><line x1="492.484375" x2="492.484375" y1="58" y2="498" stroke="#000000" fill="none" style="stroke-width: 2px;"></line><g class="note"><rect x="20" y="78" width="192.4375" height="28" stroke="#000000" fill="#ffffff" style="stroke-width: 2px;"></rect><text x="25" y="97.515625" style="font-size: 16px; font-family: 'Andale Mono', monospace;"><tspan x="25">"HANDSHAKING" state</tspan></text></g><g class="signal"><text x="309.6484375" y="136.515625" style="font-size: 16px; font-family: 'Andale Mono', monospace;"><tspan x="309.6484375">"hello" cmd</tspan></text><line x1="492.484375" x2="232.4375" y1="144" y2="144" stroke="#000000" fill="none" style="stroke-width: 2px; marker-end: url(#markerArrowBlock);"></line></g><g class="note"><rect x="39.203125" y="164" width="173.234375" height="28" stroke="#000000" fill="#ffffff" style="stroke-width: 2px;"></rect><text x="44.203125" y="183.515625" style="font-size: 16px; font-family: 'Andale Mono', monospace;"><tspan x="44.203125">"MIGRATING" state</tspan></text></g><g class="signal"><text x="300.046875" y="222.515625" style="font-size: 16px; font-family: 'Andale Mono', monospace;"><tspan x="300.046875">"migrate" cmd</tspan></text><line x1="232.4375" x2="492.484375" y1="230" y2="230" stroke="#000000" fill="none" style="stroke-width: 2px; marker-end: url(#markerArrowBlock);"></line></g><g class="signal"><text x="295.25" y="260.515625" style="font-size: 16px; font-family: 'Andale Mono', monospace;"><tspan x="295.25">"migrated" cmd</tspan></text><line x1="492.484375" x2="232.4375" y1="268" y2="268" stroke="#000000" fill="none" style="stroke-width: 2px; marker-end: url(#markerArrowBlock);"></line></g><g class="note"><rect x="58.40625" y="288" width="154.03125" height="28" stroke="#000000" fill="#ffffff" style="stroke-width: 2px;"></rect><text x="63.40625" y="307.515625" style="font-size: 16px; font-family: 'Andale Mono', monospace;"><tspan x="63.40625">"SYNCING" state</tspan></text></g><g class="signal"><text x="256.84375" y="346.515625" style="font-size: 16px; font-family: 'Andale Mono', monospace;"><tspan x="256.84375">"sync_message" cmds...</tspan></text><line x1="232.4375" x2="492.484375" y1="354" y2="354" stroke="#000000" fill="none" style="stroke-width: 2px; marker-end: url(#markerArrowBlock);"></line></g><g class="signal"><text x="261.640625" y="384.515625" style="font-size: 16px; font-family: 'Andale Mono', monospace;"><tspan x="261.640625">"new_message" cmds...</tspan></text><line x1="232.4375" x2="492.484375" y1="392" y2="392" stroke="#000000" fill="none" style="stroke-width: 2px; marker-end: url(#markerArrowBlock);"></line></g><g class="note"><rect x="512.484375" y="412" width="394.0625" height="28" stroke="#000000" fill="#ffffff" style="stroke-width: 2px;"></rect><text x="517.484375" y="431.515625" style="font-size: 16px; font-family: 'Andale Mono', monospace;"><tspan x="517.484375">when Slave's circle core info is updated</tspan></text></g><g class="signal"><text x="242.4375" y="470.515625" style="font-size: 16px; font-family: 'Andale Mono', monospace;"><tspan x="242.4375">"circle_core_updated" cmd</tspan></text><line x1="492.484375" x2="232.4375" y1="478" y2="478" stroke="#000000" fill="none" style="stroke-width: 2px; marker-end: url(#markerArrowBlock);"></line></g></svg>