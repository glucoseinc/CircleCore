[tox]
envlist = py27, py35, flake8

[testenv]
setenv =
  PYTHONDONTWRITEBYTECODE = 1
commands =
  coverage run --source circle_core -m pytest --strict {posargs:tests}
  coverage report -m
  coverage html

[testenv:py27]
deps =
  -U
  -r{toxinidir}/requirements2.txt

[testenv:py35]
deps =
  -U
  -r{toxinidir}/requirements3.txt

[testenv:flake8]
deps =
  flake8
  flake8-import-order
commands =
  flake8 circle_core tests

[flake8]
ignore = F401
max-line-length = 120
import-order-style = google
enable-extensions = D,I
